<!DOCTYPE html>
<html data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>KG Explorer</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="text-center">
    [[nav]]

    <div class="container py-5">
      <h1 class="mb-4">[[ds_name]] KG Explorer</h1>
      <div class="d-grid gap-3 col-6 mx-auto mb-4">
        <a class="btn btn-primary btn-lg" href="/query">Go to Query Page</a>
        <a class="btn btn-success btn-lg" href="/routines">Execute routines</a>
        <a class="btn btn-info btn-lg" href="/history">Change History</a>
        <a
          class="btn btn-secondary btn-lg"
          href="/analysis?start_with=[[ds_name]]"
          >Analyse</a
        >
      </div>
      <h3>Explore entities by class</h3>
      <div class="row" id="card-container">[[all_cards]]</div>
      <button id="load-more-btn" class="btn btn-secondary mt-4">
        Load More
      </button>
    </div>
    <script>
      let shown = 0;
      const pageSize = 9;
      const total = [[total_cards]];
      const showNext = () => {
        for (let i = shown; i < Math.min(shown + pageSize, total); i++) {
          document.querySelector('[data-index="' + i + '"]').style.display =
            "block";
        }
        shown += pageSize;
        if (shown >= total) {
          document.getElementById("load-more-btn").style.display = "none";
        }
      };
      document.addEventListener("DOMContentLoaded", () => {
        document
          .getElementById("load-more-btn")
          .addEventListener("click", showNext);
        showNext();
      });
    </script>
  </body>
</html>
